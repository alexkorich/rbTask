<div ng-init="start()" style="margin-right:auto; margin-left:auto">
	 
	<div class="panel panel-primary" style="margin: 0; padding: 0; border:0">
		<div class="panel panel-primary panel-heading"><span>Hello, {{username}}</span><button ng-click="logout()" class="btn btn-primary" style="float:right">Logout</button></div> 
	</div>
	
	<br>
	<div ng-repeat="project in projects" class="panel panel-primary" style="width:700px;margin-left:auto;margin-right:auto">
		<div id="header" class="panel-heading" style="height:49px">
			<span class="glyphicon glyphicon-list-alt"></span>
			<span>{{project.name}}</span>
			<span style="float:right"id="edit" ng-click="updateProject(project.name)" class="glyphicon glyphicon-pencil" aria-hidden="true"</span> 
			<span style="float:right"id="delete" ng-click="deleteProject(project.name)" class="glyphicon glyphicon-trash"</span>
		</div>

		<div id="taskAdder" class="panel-body" style="height:49px; background-color:#DFDFDF">
			<span class="glyphicon glyphicon-plus" style="color:green; height:25px; width:25px"></span>
			<span>
				<form style="margin: 0; padding: 0;">
					<input type="text" style="width: 460px; display:inline" ng-model="newTaskContent" placeholder="Start typing here to create a task...">
					<input type="date" ng-model="newTaskDeadline">
					<button ng-click="addTask(newTaskContent, newTaskDeadline, project.name)" style="float:right" class="btn btn-success">Add Task</button>
					<div class="alert alert-danger" ng-show="errNewTask" role="alert">
				            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				          	   <span class="sr-only">Error:</span>
				               {{errNewTask}}
         			 </div>
				</form>	
			</span>
		</div>
<br>
<br>
		<table class="table table-striped">
		<tr ng-mouseenter="myStyle={'background-color': '#FCFED5' }"
    ng-mouseleave="myStyle={}" ng-repeat="task in project.tasks" ng-style="myStyle">
			<td style="width:40px; border-right:1px solid #EFDADF">
				<form><input type="checkbox" ng-checked="checkTask(project.task)"></form>
			</td>
			<td style="width:4px; border-right:1px solid #EFDADF"></td>
			<td style="width:534px; border-right:1px solid #EFDADF">{{task.content}}</td>
			<td style="border-right:1px solid #EFDADF">{{task.deadline| date:'dd-MM-yyyy'}}</td>
			<td style="width:119px">	
						<td>
						<div style="display:block">
							<button ng-click="upTask()"   class="glyphicon glyphicon-chevron-up"></button>
							<button ng-click="downTask()" class="glyphicon glyphicon-chevron-down"></button>
						</div>
					</td>
					<td><button ng-click="editTask()" class="glyphicon glyphicon-pencil"></button></td>
					<td><button ng-click="deleteTask(task._id, project.name)" class="glyphicon glyphicon-trash"></button></td>
				
			</td>
		</tr>
		</table>
	
</div>
	<div style="margin-right:auto; margin-left:auto; width:300px">
	<button ng-click="isListShow = !isListShow" class="btn btn-primary " style="margin-right:auto; margin-left:auto;">Add TODO List</button>
	<form ng-show="isListShow">
			<input type="text" ng-model="newProjectName" placeholder="Enter new list name">
			<button ng-click="createProject(newProjectName)" class="btn btn-info">Create new project</button>
	</form>	

	<div class="alert alert-danger" ng-show="errNewProject" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
             <span class="sr-only">Error:</span>
               {{errNewProject}}
          </div>
	</div>
</div>